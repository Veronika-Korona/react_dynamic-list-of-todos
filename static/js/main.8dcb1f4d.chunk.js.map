{"version":3,"sources":["components/TodoList/TodoList.tsx","api/api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["Status","TodoList","state","titleQuery","status","All","handleChange","e","target","name","value","setState","TodosToDisplay","props","todos","filter","todo","title","toLowerCase","includes","Completed","completed","NotCompleted","filterByStatus","this","selectedUserId","onSelectUser","displayedTodos","className","type","placeholder","onChange","id","defaultValue","map","readOnly","checked","handleChecked","classNames","userId","onClick","React","Component","BASE_URL","getTodos","fetch","then","response","json","CurrentUser","user","loadCurrentUser","prevProps","catch","error","console","warn","onClear","email","phone","App","isLoading","errorMessage","loadTodos","a","selectUser","clearUser","newTodos","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8dcb1f4d.chunk.js","sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable no-console */\nimport classNames from 'classnames';\nimport React from 'react';\nimport './TodoList.scss';\n\ntype Props = {\n  todos: Todo[];\n  onSelectUser(userId:number): void,\n  selectedUserId: number,\n  handleChecked(id:number): void,\n};\n\nenum Status {\n  All = 'All',\n  Completed = 'completed',\n  NotCompleted = 'notCompleted',\n}\n\ntype State = {\n  titleQuery: string;\n  status: Status;\n};\n\nexport class TodoList extends React.Component<Props, State> {\n  state: State = {\n    titleQuery: '',\n    status: Status.All,\n  };\n\n  handleChange = (\n    e:React.ChangeEvent<HTMLSelectElement> | React.ChangeEvent<HTMLInputElement>,\n  ) => {\n    const { name, value } = e.target;\n\n    this.setState({\n      [name]: value,\n    } as Pick<State, 'titleQuery'>);\n  };\n\n  TodosToDisplay = () => {\n    const { titleQuery, status } = this.state;\n\n    const filterByStatus = (todo:Todo) => {\n      switch (status) {\n        case Status.Completed:\n          return todo.completed;\n        case Status.NotCompleted:\n          return !todo.completed;\n        default:\n          return true;\n      }\n    };\n\n    return this.props.todos.filter(todo => (\n      todo.title.toLowerCase().includes(titleQuery.toLowerCase())\n      && filterByStatus(todo)\n    ));\n  };\n\n  render() {\n    const { todos, selectedUserId, onSelectUser } = this.props;\n    const { status } = this.state;\n\n    const displayedTodos = this.TodosToDisplay();\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n\n        <div>\n          <input\n            type=\"text\"\n            placeholder=\"Search for todos\"\n            className=\"filterTodo\"\n            name=\"titleQuery\"\n            onChange={this.handleChange}\n          />\n\n          <select\n            className=\"filterTodo\"\n            name=\"status\"\n            id=\"\"\n            defaultValue={status}\n            onChange={this.handleChange}\n          >\n            <option value={Status.All}>All</option>\n            <option value={Status.Completed}>Completed</option>\n            <option value={Status.NotCompleted}>Still in process</option>\n          </select>\n        </div>\n\n        <div className=\"TodoList__list-container\">\n          <ul className=\"TodoList__list\">\n            {todos && displayedTodos.map((todo) => (\n              <li\n                className={todo.completed\n                  ? 'TodoList__item TodoList__item--checked'\n                  : 'TodoList__item TodoList__item--unchecked'}\n                key={todo.id}\n              >\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    readOnly\n                    checked={todo.completed}\n                    onChange={() => {\n                      this.props.handleChecked(todo.id);\n                    }}\n                  />\n                  <p>{todo.title}</p>\n                </label>\n\n                <button\n                  className={classNames(\n                    'TodoList__user-button button', { 'TodoList__user-button--selected': todo.userId === selectedUserId },\n                  )}\n                  type=\"button\"\n                  onClick={() => onSelectUser(todo.userId)}\n                >\n                  {`User: ${todo.userId}`}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n","const BASE_URL = 'https://mate.academy/students-api';\n\nexport const getTodos = () => {\n  return fetch(`${BASE_URL}/todos`)\n    .then(response => response.json());\n};\n\nexport const getUsers = (userId:number) => {\n  return fetch(`${BASE_URL}/users/${userId}`)\n    .then(response => response.json());\n};\n","/* eslint-disable no-console */\nimport React from 'react';\nimport './CurrentUser.scss';\nimport { getUsers } from '../../api/api';\n\ninterface Props {\n  userId: number;\n  onClear(): void;\n}\n\ninterface State {\n  user: User | null;\n}\n\nexport class CurrentUser extends React.Component<Props, State> {\n  state: State = {\n    user: null,\n  };\n\n  componentDidMount() {\n    this.loadCurrentUser();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.userId !== this.props.userId) {\n      this.loadCurrentUser();\n    }\n  }\n\n  loadCurrentUser() {\n    getUsers(this.props.userId)\n      .then(user => {\n        this.setState({ user });\n      })\n      .catch(error => {\n        console.warn(error);\n      });\n  }\n\n  render() {\n    const { user } = this.state;\n    const { userId, onClear } = this.props;\n\n    return (\n      <>\n        {user && (\n          <div className=\"CurrentUser\">\n            <h2 className=\"CurrentUser__title\">\n              <span>\n                {`Selected user: ${userId}`}\n              </span>\n            </h2>\n\n            <h3 className=\"CurrentUser__name\">{user.name}</h3>\n            <p className=\"CurrentUser__email\">{user.email}</p>\n            <p className=\"CurrentUser__phone\">{user.phone}</p>\n          </div>\n        )}\n\n        <button type=\"button\" className=\"button\" onClick={onClear}>\n          Clear\n        </button>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api/api';\n\ninterface State {\n  selectedUserId: number;\n  todos: Todo[];\n  isLoading: boolean;\n  errorMessage: string;\n}\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    selectedUserId: 0,\n    todos: [],\n    isLoading: false,\n    errorMessage: '',\n  };\n\n  componentDidMount() {\n    this.loadTodos();\n  }\n\n  loadTodos = async () => {\n    this.setState({ isLoading: true });\n\n    try {\n      const todos = await getTodos();\n\n      this.setState({\n        todos,\n        isLoading: false,\n      });\n    } catch (error) {\n      this.setState({\n        errorMessage: 'Cant load todos',\n      });\n    } finally {\n      this.setState({\n        isLoading: false,\n      });\n    }\n  };\n\n  selectUser = (userId: number) => {\n    this.setState({ selectedUserId: userId });\n  };\n\n  clearUser = () => {\n    this.setState({ selectedUserId: 0 });\n  };\n\n  handleChecked = (id:number) => {\n    const newTodos = this.state.todos.map(todo => {\n      if (todo.id === id) {\n        return { ...todo, completed: !todo.completed };\n      }\n\n      return todo;\n    });\n\n    this.setState(() => ({\n      todos: newTodos,\n    }));\n  };\n\n  render() {\n    const { selectedUserId, todos, isLoading } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          {this.state.errorMessage}\n\n          {isLoading\n            ? 'loading'\n            : (\n              <TodoList\n                todos={todos}\n                selectedUserId={selectedUserId}\n                onSelectUser={this.selectUser}\n                handleChecked={this.handleChecked}\n              />\n            )}\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser userId={selectedUserId} onClear={this.clearUser} />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}